@startuml Cross-Lingual Sentiment Analysis Service Architecture

!define RECTANGLE class

package "Client Layer" {
    [Web Browser] as Browser
    [cURL/Postman] as CLI
    [Python Client] as PythonClient
}

package "API Layer" {
    [FastAPI Server\nPort 8000] as FastAPI
    [Request Router] as Router
    [Pydantic Validator] as Validator
}

package "Business Logic Layer" {
    [Translation Service] as Translator
    [Sentiment Analyzer] as Sentiment
}

package "External Services" {
    [Google Translate API] as GoogleTranslate
    [Hugging Face Hub] as HuggingFace
}

package "Storage" {
    [Model Cache\n~500MB] as ModelCache
}

Browser --> FastAPI : HTTP POST /analyze
CLI --> FastAPI : HTTP POST /analyze
PythonClient --> FastAPI : HTTP POST /analyze

FastAPI --> Router
Router --> Validator
Validator --> Translator
Validator --> Sentiment

Translator --> GoogleTranslate : Translate to English
GoogleTranslate --> Translator : Translated text

Sentiment --> HuggingFace : Download/Load Model
HuggingFace --> ModelCache : Cache Model
ModelCache --> Sentiment : Load Model

Sentiment --> FastAPI : Sentiment Scores
Translator --> FastAPI : Translation Metadata
FastAPI --> Browser : JSON Response
FastAPI --> CLI : JSON Response
FastAPI --> PythonClient : JSON Response

@enduml

